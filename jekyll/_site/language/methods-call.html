


<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title> | </title>

        <link rel="stylesheet" href="/css/style.css">
        <link rel="stylesheet" href="/css/highlight.css">
        <link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'>

        <!-- Font Awesome -->
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        <!-- Fetch JQuery from CDN but have a local fallback -->
        <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script>
            if (typeof jQuery == 'undefined') {
                document.write(unescape("%3Cscript src='/jquery.js'%3E%3C/script%3E"));
            }
        </script>
    </head>
    <body>
        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme = localStorage.getItem('theme');
            if (theme == null) { theme = 'light'; }
            $('body').removeClass().addClass(theme);
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = localStorage.getItem('sidebar');
            if (sidebar === "hidden") { $("html").addClass("sidebar-hidden") }
            else if (sidebar === "visible") { $("html").addClass("sidebar-visible") }
        </script>

        <div id="sidebar" class="sidebar">
            <ul class="chapter">

              
              <li>
                <a href="/about-this-book.html"> About This Book</a>
              </li>
                
              
              <li>
                <a href="/language.html"> Language Structure</a>
              </li>
                
                    <ul class="section">
                        
                          <li>
                            <a href="/language/keywords.html"> Keywords</a>
                          </li>
                        
                          <li>
                            <a href="/language/literals.html"> Literals</a>
                          </li>
                        
                          <li>
                            <a href="/language/variables-constants.html"> Variables and Constants</a>
                          </li>
                        
                          <li>
                            <a href="/language/assignment.html"> Assignment</a>
                          </li>
                        
                          <li>
                            <a href="/language/control-expressions.html"> Control Expressions</a>
                          </li>
                        
                          <li>
                            <a href="/language/methods-def.html"> Defining methods</a>
                          </li>
                        
                          <li>
                            <a href="/language/methods-call.html"> Calling methods</a>
                          </li>
                        
                          <li>
                            <a href="/language/modules-classes.html"> Modules and Classes</a>
                          </li>
                        
                          <li>
                            <a href="/language/exceptions.html"> Exceptions</a>
                          </li>
                        
                          <li>
                            <a href="/language/refinements.html"> Refinements</a>
                          </li>
                        
                          <li>
                            <a href="/language/precedence.html"> Precedence</a>
                          </li>
                        
                          <li>
                            <a href="/language/files.html"> File Structure</a>
                          </li>
                        
                          <li>
                            <a href="/language/globals.html"> Globals</a>
                          </li>
                        
                          <li>
                            <a href="/language/metaprogramming.html"> Metaprogramming</a>
                          </li>
                        
                    </ul>
                
              
              <li>
                <a href="/builtin.html"> Built-in Classes</a>
              </li>
                
                    <ul class="section">
                        
                          <li>
                            <a href="/builtin/core.html"> Language Core</a>
                          </li>
                        
                          <li>
                            <a href="/builtin/types.html"> Value Types</a>
                          </li>
                        
                          <li>
                            <a href="/builtin/errors-warnings.html"> Errors and Warnings</a>
                          </li>
                        
                          <li>
                            <a href="/builtin/system-cli.html"> System Programming and CLI</a>
                          </li>
                        
                          <li>
                            <a href="/builtin/concurrency-parallelism.html"> Concurrency and Parallelism</a>
                          </li>
                        
                          <li>
                            <a href="/builtin/internals.html"> Interpreter Internals</a>
                          </li>
                        
                          <li>
                            <a href="/builtin/marshal.html"> Marshal</a>
                          </li>
                        
                          <li>
                            <a href="/builtin/random.html"> Random</a>
                          </li>
                        
                    </ul>
                
              
              <li>
                <a href="/stdlib.html"> Standard Library</a>
              </li>
                
                    <ul class="section">
                        
                          <li>
                            <a href="/stdlib/patterns.html"> Design Patterns</a>
                          </li>
                        
                          <li>
                            <a href="/stdlib/formats.html"> Formats</a>
                          </li>
                        
                          <li>
                            <a href="/stdlib/development-debugging.html"> Development and Debugging</a>
                          </li>
                        
                          <li>
                            <a href="/stdlib/string-utilities.html"> String Utilities</a>
                          </li>
                        
                          <li>
                            <a href="/stdlib/networking-web.html"> Networking and Web</a>
                          </li>
                        
                          <li>
                            <a href="/stdlib/cli.html"> System Programming and CLI</a>
                          </li>
                        
                          <li>
                            <a href="/stdlib/cryptography-encoding.html"> Cryptography and Encoding</a>
                          </li>
                        
                          <li>
                            <a href="/stdlib/misc.html"> Miscellaneous Libraries</a>
                          </li>
                        
                    </ul>
                
              
              <li>
                <a href="/advanced-topics.html"> Advanced Topics</a>
              </li>
                
                    <ul class="section">
                        
                          <li>
                            <a href="/advanced-topics/third-party-libraries.html"> Third-Party Libraries</a>
                          </li>
                        
                          <li>
                            <a href="/advanced-topics/tools-approaches.html"> Tools and Approaches</a>
                          </li>
                        
                          <li>
                            <a href="/advanced-topics/contributing.html"> Contributing To Ruby</a>
                          </li>
                        
                    </ul>
                
              

            </ul>
        </div>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar" class="menu-bar">
                    <div class="left-buttons">
                        <i id="sidebar-toggle" class="fa fa-bars"></i>
                        <i id="theme-toggle" class="fa fa-paint-brush"></i>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <i id="print-button" class="fa fa-print" title="Print this book"></i>
                    </div>
                </div>

                 <h1 id="calling-methods">Calling Methods</h1>

<p>Calling a method sends a message to an object so it can perform some
work.</p>

<p>In ruby you send a message to an object like this:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_method</span><span class="p">()</span>
</code></pre></div></div>

<p>Note that the parenthesis are optional:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_method</span>
</code></pre></div></div>

<p>Except when there is difference between using and omitting parentheses,
this document uses parenthesis when arguments are present to avoid
confusion.</p>

<p>This section only covers calling methods. See also the <a href="rdoc-ref:syntax/methods.rdoc">syntax
documentation on defining methods</a>.</p>

<h2 id="receiver">Receiver</h2>

<p><code class="highlighter-rouge">self</code> is the default receiver. If you don’t specify any receiver <code class="highlighter-rouge">self</code>
will be used. To specify a receiver use <code class="highlighter-rouge">.</code>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_object</span><span class="p">.</span><span class="nf">my_method</span>
</code></pre></div></div>

<p>This sends the <code class="highlighter-rouge">my_method</code> message to <code class="highlighter-rouge">my_object</code>. Any object can be a
receiver but depending on the method’s visibility sending a message may
raise a NoMethodError.</p>

<p>You may use <code class="highlighter-rouge">&amp;.</code> to designate a receiver, then <code class="highlighter-rouge">my_method</code> is not
invoked and the result is <code class="highlighter-rouge">nil</code> when the receiver is <code class="highlighter-rouge">nil</code>. In that
case, the arguments of <code class="highlighter-rouge">my_method</code> are not evaluated.</p>

<p>You may also use <code class="highlighter-rouge">::</code> to designate a receiver, but this is rarely used
due to the potential for confusion with <code class="highlighter-rouge">::</code> for namespaces.</p>

<h2 id="arguments">Arguments</h2>

<p>There are three types of arguments when sending a message, the
positional arguments, keyword (or named) arguments and the block
argument. Each message sent may use one, two or all types of arguments,
but the arguments must be supplied in this order.</p>

<p>All arguments in ruby are passed by reference and are not lazily
evaluated.</p>

<p>Each argument is separated by a <code class="highlighter-rouge">,</code>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_method</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'2'</span><span class="p">,</span> <span class="ss">:three</span><span class="p">)</span>
</code></pre></div></div>

<p>Arguments may be an expression, a hash argument:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'key' =&gt; value
</code></pre></div></div>

<p>or a keyword argument:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>key: value
</code></pre></div></div>

<p>Hash and keyword arguments must be contiguous and must appear after all
positional arguments, but may be mixed:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_method</span><span class="p">(</span><span class="s1">'a'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">b: </span><span class="mi">2</span><span class="p">,</span> <span class="s1">'c'</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="positional-arguments">Positional Arguments</h3>

<p>The positional arguments for the message follow the method name:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_method</span><span class="p">(</span><span class="n">argument1</span><span class="p">,</span> <span class="n">argument2</span><span class="p">)</span>
</code></pre></div></div>

<p>In many cases, parenthesis are not necessary when sending a message:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_method</span> <span class="n">argument1</span><span class="p">,</span> <span class="n">argument2</span>
</code></pre></div></div>

<p>However, parenthesis are necessary to avoid ambiguity. This will raise a
SyntaxError because ruby does not know which method argument3 should be
sent to:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>method_one argument1, method_two argument2, argument3
</code></pre></div></div>

<p>If the method definition has a <code class="highlighter-rouge">*argument</code> extra positional arguments
will be assigned to <code class="highlighter-rouge">argument</code> in the method as an Array.</p>

<p>If the method definition doesn’t include keyword arguments the keyword
or hash-type arguments are assigned as a single hash to the last
argument:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
  <span class="nb">p</span> <span class="n">options</span>
<span class="k">end</span>

<span class="n">my_method</span><span class="p">(</span><span class="s1">'a'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">b: </span><span class="mi">2</span><span class="p">)</span> <span class="c1"># prints: {'a'=&gt;1, :b=&gt;2}</span>
</code></pre></div></div>

<p>If too many positional arguments are given, an ArgumentError is raised.</p>

<h3 id="default-positional-arguments">Default Positional Arguments</h3>

<p>When the method defines default arguments you do not need to supply all
the arguments to the method. Ruby will fill in the missing arguments
in-order.</p>

<p>First we’ll cover the simple case where the default arguments appear on
the right. Consider this method:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
  <span class="nb">p</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">]</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Here <code class="highlighter-rouge">c</code> and <code class="highlighter-rouge">d</code> have default values which ruby will apply for you. If
you send only two arguments to this method:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_method</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></div>

<p>You will see ruby print <code class="highlighter-rouge">[1, 2, 3, 4]</code>.</p>

<p>If you send three arguments:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_method</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</code></pre></div></div>

<p>You will see ruby print <code class="highlighter-rouge">[1, 2, 5, 4]</code></p>

<p>Ruby fills in the missing arguments from left to right.</p>

<p>Ruby allows default values to appear in the middle of positional
arguments. Consider this more complicated method:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
  <span class="nb">p</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">]</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Here <code class="highlighter-rouge">b</code> and <code class="highlighter-rouge">c</code> have default values. If you send only two arguments to
this method:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_method</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div></div>

<p>You will see ruby print <code class="highlighter-rouge">[1, 2, 3, 4]</code>.</p>

<p>If you send three arguments:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_method</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</code></pre></div></div>

<p>You will see ruby print <code class="highlighter-rouge">[1, 5, 3, 6]</code>.</p>

<p>Describing this in words gets complicated and confusing. I’ll describe
it in variables and values instead.</p>

<p>First <code class="highlighter-rouge">1</code> is assigned to <code class="highlighter-rouge">a</code>, then <code class="highlighter-rouge">6</code> is assigned to <code class="highlighter-rouge">d</code>. This leaves
only the arguments with default values. Since <code class="highlighter-rouge">5</code> has not been assigned
to a value yet, it is given to <code class="highlighter-rouge">b</code> and <code class="highlighter-rouge">c</code> uses its default value of
<code class="highlighter-rouge">3</code>.</p>

<h3 id="keyword-arguments">Keyword Arguments</h3>

<p>Keyword arguments follow any positional arguments and are separated by
commas like positional arguments:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_method</span><span class="p">(</span><span class="n">positional1</span><span class="p">,</span> <span class="ss">keyword1: </span><span class="n">value1</span><span class="p">,</span> <span class="ss">keyword2: </span><span class="n">value2</span><span class="p">)</span>
</code></pre></div></div>

<p>Any keyword arguments not given will use the default value from the
method definition. If a keyword argument is given that the method did
not list an ArgumentError will be raised.</p>

<h3 id="block-argument">Block Argument</h3>

<p>The block argument sends a closure from the calling scope to the method.</p>

<p>The block argument is always last when sending a message to a method. A
block is sent to a method using <code class="highlighter-rouge">do ... end</code> or <code class="highlighter-rouge">{ ... }</code>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_method</span> <span class="k">do</span>
  <span class="c1"># ...</span>
<span class="k">end</span>
</code></pre></div></div>

<p>or:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_method</span> <span class="p">{</span>
  <span class="c1"># ...</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">do end</code> has lower precedence than <code class="highlighter-rouge">{ }</code> so:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">method_1</span> <span class="n">method_2</span> <span class="p">{</span>
  <span class="c1"># ...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Sends the block to <code class="highlighter-rouge">method_2</code> while:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">method_1</span> <span class="n">method_2</span> <span class="k">do</span>
  <span class="c1"># ...</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Sends the block to <code class="highlighter-rouge">method_1</code>. Note that in the first case if
parentheses are used the block is sent to <code class="highlighter-rouge">method_1</code>.</p>

<p>A block will accept arguments from the method it was sent to. Arguments
are defined similar to the way a method defines arguments. The block’s
arguments go in <code class="highlighter-rouge">| ... |</code> following the opening <code class="highlighter-rouge">do</code> or <code class="highlighter-rouge">{</code>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_method</span> <span class="k">do</span> <span class="o">|</span><span class="n">argument1</span><span class="p">,</span> <span class="n">argument2</span><span class="o">|</span>
  <span class="c1"># ...</span>
<span class="k">end</span>
</code></pre></div></div>

<h4 id="block-local-arguments">Block Local Arguments</h4>

<p>You may also declare block-local arguments to a block using <code class="highlighter-rouge">;</code> in the
block arguments list. Assigning to a block-local argument will not
override local arguments outside the block in the caller’s scope:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_method</span>
  <span class="k">yield</span> <span class="nb">self</span>
<span class="k">end</span>

<span class="n">place</span> <span class="o">=</span> <span class="s2">"world"</span>

<span class="n">my_method</span> <span class="k">do</span> <span class="o">|</span><span class="n">obj</span><span class="p">;</span> <span class="n">place</span><span class="o">|</span>
  <span class="n">place</span> <span class="o">=</span> <span class="s2">"block"</span>
  <span class="nb">puts</span> <span class="s2">"hello </span><span class="si">#{</span><span class="n">obj</span><span class="si">}</span><span class="s2"> this is </span><span class="si">#{</span><span class="n">place</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="s2">"place is: </span><span class="si">#{</span><span class="n">place</span><span class="si">}</span><span class="s2">"</span>
</code></pre></div></div>

<p>This prints:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">hello</span> <span class="n">main</span> <span class="n">this</span> <span class="n">is</span> <span class="n">block</span>
<span class="n">place</span> <span class="n">is</span> <span class="n">world</span>
</code></pre></div></div>

<p>So the <code class="highlighter-rouge">place</code> variable in the block is not the same <code class="highlighter-rouge">place</code> variable as
outside the block. Removing <code class="highlighter-rouge">; place</code> from the block arguments gives
this result:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">hello</span> <span class="n">main</span> <span class="n">this</span> <span class="n">is</span> <span class="n">block</span>
<span class="n">place</span> <span class="n">is</span> <span class="n">block</span>
</code></pre></div></div>

<h3 id="array-to-arguments-conversion">Array to Arguments Conversion</h3>

<p>Given the following method:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="n">argument1</span><span class="p">,</span> <span class="n">argument2</span><span class="p">,</span> <span class="n">argument3</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div></div>

<p>You can turn an Array into an argument list with <code class="highlighter-rouge">*</code> (or splat)
operator:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">my_method</span><span class="p">(</span><span class="o">*</span><span class="n">arguments</span><span class="p">)</span>
</code></pre></div></div>

<p>or:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">my_method</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">arguments</span><span class="p">)</span>
</code></pre></div></div>

<p>Both are equivalent to:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_method</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div></div>

<p>If the method accepts keyword arguments, the splat operator will convert
a hash at the end of the array into keyword arguments:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="ss">c: </span><span class="mi">3</span><span class="p">)</span>
<span class="k">end</span>

<span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">{</span> <span class="ss">c: </span><span class="mi">4</span> <span class="p">}]</span>
<span class="n">my_method</span><span class="p">(</span><span class="o">*</span><span class="n">arguments</span><span class="p">)</span>
</code></pre></div></div>

<p>You may also use the <code class="highlighter-rouge">**</code> (described next) to convert a Hash into
keyword arguments.</p>

<p>If the number of objects in the Array do not match the number of
arguments for the method, an ArgumentError will be raised.</p>

<p>If the splat operator comes first in the call, parentheses must be used
to avoid a warning.</p>

<h3 id="hash-to-keyword-arguments-conversion">Hash to Keyword Arguments Conversion</h3>

<p>Given the following method:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="ss">first: </span><span class="mi">1</span><span class="p">,</span> <span class="ss">second: </span><span class="mi">2</span><span class="p">,</span> <span class="ss">third: </span><span class="mi">3</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div></div>

<p>You can turn a Hash into keyword arguments with the <code class="highlighter-rouge">**</code> operator:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arguments</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">first: </span><span class="mi">3</span><span class="p">,</span> <span class="ss">second: </span><span class="mi">4</span><span class="p">,</span> <span class="ss">third: </span><span class="mi">5</span> <span class="p">}</span>
<span class="n">my_method</span><span class="p">(</span><span class="o">**</span><span class="n">arguments</span><span class="p">)</span>
</code></pre></div></div>

<p>or:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arguments</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">first: </span><span class="mi">3</span><span class="p">,</span> <span class="ss">second: </span><span class="mi">4</span> <span class="p">}</span>
<span class="n">my_method</span><span class="p">(</span><span class="ss">third: </span><span class="mi">5</span><span class="p">,</span> <span class="o">**</span><span class="n">arguments</span><span class="p">)</span>
</code></pre></div></div>

<p>Both are equivalent to:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_method</span><span class="p">(</span><span class="ss">first: </span><span class="mi">3</span><span class="p">,</span> <span class="ss">second: </span><span class="mi">4</span><span class="p">,</span> <span class="ss">third: </span><span class="mi">5</span><span class="p">)</span>
</code></pre></div></div>

<p>If the method definition uses <code class="highlighter-rouge">**</code> to gather arbitrary keyword
arguments, they will not be gathered by <code class="highlighter-rouge">*</code>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
  <span class="nb">p</span> <span class="ss">arguments: </span><span class="n">a</span><span class="p">,</span> <span class="ss">keywords: </span><span class="n">kw</span>
<span class="k">end</span>

<span class="n">my_method</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">'3'</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span> <span class="ss">five: </span><span class="mi">6</span><span class="p">)</span>
</code></pre></div></div>

<p>Prints:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="ss">:arguments</span><span class="o">=&gt;</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="s2">"3"</span><span class="o">=&gt;</span><span class="mi">4</span><span class="p">}],</span> <span class="ss">:keywords</span><span class="o">=&gt;</span><span class="p">{</span><span class="ss">:five</span><span class="o">=&gt;</span><span class="mi">6</span><span class="p">}}</span>
</code></pre></div></div>

<p>Unlike the splat operator described above, the <code class="highlighter-rouge">**</code> operator has no
commonly recognized name.</p>

<h3 id="proc-to-block-conversion">Proc to Block Conversion</h3>

<p>Given a method that use a block:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_method</span>
  <span class="k">yield</span> <span class="nb">self</span>
<span class="k">end</span>
</code></pre></div></div>

<p>You can convert a proc or lambda to a block argument with the <code class="highlighter-rouge">&amp;</code>
operator:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">argument</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="o">|</span><span class="n">a</span><span class="o">|</span> <span class="nb">puts</span> <span class="s2">"</span><span class="si">#{</span><span class="n">a</span><span class="p">.</span><span class="nf">inspect</span><span class="si">}</span><span class="s2"> was yielded"</span> <span class="p">}</span>

<span class="n">my_method</span><span class="p">(</span><span class="o">&amp;</span><span class="n">argument</span><span class="p">)</span>
</code></pre></div></div>

<p>If the splat operator comes first in the call, parenthesis must be used
to avoid a warning.</p>

<p>Unlike the splat operator described above, the <code class="highlighter-rouge">&amp;</code> operator has no
commonly recognized name.</p>

<h2 id="method-lookup">Method Lookup</h2>

<p>When you send a message, Ruby looks up the method that matches the name
of the message for the receiver. Methods are stored in classes and
modules so method lookup walks these, not the objects themselves.</p>

<p>Here is the order of method lookup for the receiver’s class or module
<code class="highlighter-rouge">R</code>:</p>
<ul>
  <li>The prepended modules of <code class="highlighter-rouge">R</code> in reverse order</li>
  <li>For a matching method in <code class="highlighter-rouge">R</code></li>
  <li>The included modules of <code class="highlighter-rouge">R</code> in reverse order</li>
</ul>

<p>If <code class="highlighter-rouge">R</code> is a class with a superclass, this is repeated with <code class="highlighter-rouge">R</code>’s
superclass until a method is found.</p>

<p>Once a match is found method lookup stops.</p>

<p>If no match is found this repeats from the beginning, but looking for
<code class="highlighter-rouge">method_missing</code>. The default <code class="highlighter-rouge">method_missing</code> is
<code class="highlighter-rouge">BasicObject#method_missing</code> which raises a NameError when invoked.</p>

<p>If refinements (an experimental feature) are active, the method lookup
changes. See the <a href="rdoc-ref:syntax/refinements.rdoc">refinements
documentation</a> for details.</p>



                <!-- Mobile navigation buttons -->


                <!--
                    <a href="cli/cli-tool.html" class="mobile-nav-chapters next">
                        <i class="fa fa-angle-right"></i>
                    </a>
                 -->

            </div>



               <!--
                <a href="cli/cli-tool.html" class="nav-chapters next" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-right"></i>
                </a>
                 -->

        </div>


        <script src="/js/book.js"></script>
    </body>
</html>
