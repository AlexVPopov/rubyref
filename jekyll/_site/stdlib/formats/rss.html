


<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title> | </title>

        <link rel="stylesheet" href="/css/style.css">
        <link rel="stylesheet" href="/css/highlight.css">
        <link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'>

        <!-- Font Awesome -->
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        <!-- Fetch JQuery from CDN but have a local fallback -->
        <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script>
            if (typeof jQuery == 'undefined') {
                document.write(unescape("%3Cscript src='/jquery.js'%3E%3C/script%3E"));
            }
        </script>
    </head>
    <body>
        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme = localStorage.getItem('theme');
            if (theme == null) { theme = 'light'; }
            $('body').removeClass().addClass(theme);
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = localStorage.getItem('sidebar');
            if (sidebar === "hidden") { $("html").addClass("sidebar-hidden") }
            else if (sidebar === "visible") { $("html").addClass("sidebar-visible") }
        </script>

        <div id="sidebar" class="sidebar">
            <ul class="chapter">

              
              <li>
                <a href="/about-this-book.html"> About This Book</a>
              </li>
                
              
              <li>
                <a href="/language.html"> Language Structure</a>
              </li>
                
                    <ul class="section">
                        
                          <li>
                            <a href="/language/keywords.html"> Keywords</a>
                          </li>
                        
                          <li>
                            <a href="/language/literals.html"> Literals</a>
                          </li>
                        
                          <li>
                            <a href="/language/variables-constants.html"> Variables and Constants</a>
                          </li>
                        
                          <li>
                            <a href="/language/assignment.html"> Assignment</a>
                          </li>
                        
                          <li>
                            <a href="/language/control-expressions.html"> Control Expressions</a>
                          </li>
                        
                          <li>
                            <a href="/language/methods-def.html"> Defining methods</a>
                          </li>
                        
                          <li>
                            <a href="/language/methods-call.html"> Calling methods</a>
                          </li>
                        
                          <li>
                            <a href="/language/modules-classes.html"> Modules and Classes</a>
                          </li>
                        
                          <li>
                            <a href="/language/exceptions.html"> Exceptions</a>
                          </li>
                        
                          <li>
                            <a href="/language/refinements.html"> Refinements</a>
                          </li>
                        
                          <li>
                            <a href="/language/precedence.html"> Precedence</a>
                          </li>
                        
                          <li>
                            <a href="/language/files.html"> File Structure</a>
                          </li>
                        
                          <li>
                            <a href="/language/globals.html"> Globals</a>
                          </li>
                        
                          <li>
                            <a href="/language/metaprogramming.html"> Metaprogramming</a>
                          </li>
                        
                    </ul>
                
              
              <li>
                <a href="/builtin.html"> Built-in Classes</a>
              </li>
                
                    <ul class="section">
                        
                          <li>
                            <a href="/builtin/core.html"> Language Core</a>
                          </li>
                        
                          <li>
                            <a href="/builtin/types.html"> Value Types</a>
                          </li>
                        
                          <li>
                            <a href="/builtin/errors-warnings.html"> Errors and Warnings</a>
                          </li>
                        
                          <li>
                            <a href="/builtin/system-cli.html"> System Programming and CLI</a>
                          </li>
                        
                          <li>
                            <a href="/builtin/concurrency-parallelism.html"> Concurrency and Parallelism</a>
                          </li>
                        
                          <li>
                            <a href="/builtin/internals.html"> Interpreter Internals</a>
                          </li>
                        
                          <li>
                            <a href="/builtin/marshal.html"> Marshal</a>
                          </li>
                        
                          <li>
                            <a href="/builtin/random.html"> Random</a>
                          </li>
                        
                    </ul>
                
              
              <li>
                <a href="/stdlib.html"> Standard Library</a>
              </li>
                
                    <ul class="section">
                        
                          <li>
                            <a href="/stdlib/patterns.html"> Design Patterns</a>
                          </li>
                        
                          <li>
                            <a href="/stdlib/formats.html"> Formats</a>
                          </li>
                        
                          <li>
                            <a href="/stdlib/development-debugging.html"> Development and Debugging</a>
                          </li>
                        
                          <li>
                            <a href="/stdlib/string-utilities.html"> String Utilities</a>
                          </li>
                        
                          <li>
                            <a href="/stdlib/networking-web.html"> Networking and Web</a>
                          </li>
                        
                          <li>
                            <a href="/stdlib/cli.html"> System Programming and CLI</a>
                          </li>
                        
                          <li>
                            <a href="/stdlib/cryptography-encoding.html"> Cryptography and Encoding</a>
                          </li>
                        
                          <li>
                            <a href="/stdlib/misc.html"> Miscellaneous Libraries</a>
                          </li>
                        
                    </ul>
                
              
              <li>
                <a href="/advanced-topics.html"> Advanced Topics</a>
              </li>
                
                    <ul class="section">
                        
                          <li>
                            <a href="/advanced-topics/third-party-libraries.html"> Third-Party Libraries</a>
                          </li>
                        
                          <li>
                            <a href="/advanced-topics/tools-approaches.html"> Tools and Approaches</a>
                          </li>
                        
                          <li>
                            <a href="/advanced-topics/contributing.html"> Contributing To Ruby</a>
                          </li>
                        
                    </ul>
                
              

            </ul>
        </div>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar" class="menu-bar">
                    <div class="left-buttons">
                        <i id="sidebar-toggle" class="fa fa-bars"></i>
                        <i id="theme-toggle" class="fa fa-paint-brush"></i>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <i id="print-button" class="fa fa-print" title="Print this book"></i>
                    </div>
                </div>

                 
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s1">'rss'</span>
</code></pre></div></div>

<h1 id="rss">RSS</h1>

<h1 id="rss-reading-and-writing">RSS reading and writing</h1>

<p>Really Simple Syndication (RSS) is a family of formats that describe
‘feeds,’ specially constructed XML documents that allow an interested
person to subscribe and receive updates from a particular web service.
This portion of the standard library provides tooling to read and create
these feeds.</p>

<p>The standard library supports RSS 0.91, 1.0, 2.0, and Atom, a related
format. Here are some links to the standards documents for these
formats:</p>

<ul>
  <li>RSS
    <ul>
      <li><a href="http://www.rssboard.org/rss-0-9-1-netscape">0.9.1</a></li>
      <li><a href="http://web.resource.org/rss/1.0/">1.0</a></li>
      <li><a href="http://www.rssboard.org/rss-specification">2.0</a></li>
    </ul>
  </li>
  <li><a href="http://tools.ietf.org/html/rfc4287">Atom</a></li>
</ul>

<h2 id="consuming-rss">Consuming RSS</h2>

<p>If you’d like to read someone’s RSS feed with your Ruby code, you’ve
come to the right place. It’s really easy to do this, but we’ll need the
help of open-uri:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s1">'rss'</span>
<span class="nb">require</span> <span class="s1">'open-uri'</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">'http://www.ruby-lang.org/en/feeds/news.rss'</span>
<span class="nb">open</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">rss</span><span class="o">|</span>
  <span class="n">feed</span> <span class="o">=</span> <span class="no">RSS</span><span class="o">::</span><span class="no">Parser</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">rss</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">"Title: </span><span class="si">#{</span><span class="n">feed</span><span class="p">.</span><span class="nf">channel</span><span class="p">.</span><span class="nf">title</span><span class="si">}</span><span class="s2">"</span>
  <span class="n">feed</span><span class="p">.</span><span class="nf">items</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span>
    <span class="nb">puts</span> <span class="s2">"Item: </span><span class="si">#{</span><span class="n">item</span><span class="p">.</span><span class="nf">title</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>As you can see, the workhorse is <code class="highlighter-rouge">RSS::Parser#parse</code>, which takes the
source of the feed and a parameter that performs validation on the feed.
We get back an object that has all of the data from our feed, accessible
through methods. This example shows getting the title out of the channel
element, and looping through the list of items.</p>

<h2 id="producing-rss">Producing RSS</h2>

<p>Producing our own RSS feeds is easy as well. Let’s make a very basic
feed:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s2">"rss"</span>

<span class="n">rss</span> <span class="o">=</span> <span class="no">RSS</span><span class="o">::</span><span class="no">Maker</span><span class="p">.</span><span class="nf">make</span><span class="p">(</span><span class="s2">"atom"</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">maker</span><span class="o">|</span>
  <span class="n">maker</span><span class="p">.</span><span class="nf">channel</span><span class="p">.</span><span class="nf">author</span> <span class="o">=</span> <span class="s2">"matz"</span>
  <span class="n">maker</span><span class="p">.</span><span class="nf">channel</span><span class="p">.</span><span class="nf">updated</span> <span class="o">=</span> <span class="no">Time</span><span class="p">.</span><span class="nf">now</span><span class="p">.</span><span class="nf">to_s</span>
  <span class="n">maker</span><span class="p">.</span><span class="nf">channel</span><span class="p">.</span><span class="nf">about</span> <span class="o">=</span> <span class="s2">"http://www.ruby-lang.org/en/feeds/news.rss"</span>
  <span class="n">maker</span><span class="p">.</span><span class="nf">channel</span><span class="p">.</span><span class="nf">title</span> <span class="o">=</span> <span class="s2">"Example Feed"</span>

  <span class="n">maker</span><span class="p">.</span><span class="nf">items</span><span class="p">.</span><span class="nf">new_item</span> <span class="k">do</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span>
    <span class="n">item</span><span class="p">.</span><span class="nf">link</span> <span class="o">=</span> <span class="s2">"http://www.ruby-lang.org/en/news/2010/12/25/ruby-1-9-2-p136-is-released/"</span>
    <span class="n">item</span><span class="p">.</span><span class="nf">title</span> <span class="o">=</span> <span class="s2">"Ruby 1.9.2-p136 is released"</span>
    <span class="n">item</span><span class="p">.</span><span class="nf">updated</span> <span class="o">=</span> <span class="no">Time</span><span class="p">.</span><span class="nf">now</span><span class="p">.</span><span class="nf">to_s</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">rss</span>
</code></pre></div></div>

<p>As you can see, this is a very Builder-like DSL. This code will spit out
an Atom feed with one item. If we needed a second item, we’d make
another block with maker.items.new_item and build a second one.</p>

<p><a href="https://ruby-doc.org/stdlib-2.5.0/libdoc/rss/rdoc/RSS.html">RSS
Reference</a></p>



                <!-- Mobile navigation buttons -->


                <!--
                    <a href="cli/cli-tool.html" class="mobile-nav-chapters next">
                        <i class="fa fa-angle-right"></i>
                    </a>
                 -->

            </div>



               <!--
                <a href="cli/cli-tool.html" class="nav-chapters next" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-right"></i>
                </a>
                 -->

        </div>


        <script src="/js/book.js"></script>
    </body>
</html>
