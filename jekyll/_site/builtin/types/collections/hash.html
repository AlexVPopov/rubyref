


<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title> | </title>

        <link rel="stylesheet" href="/css/style.css">
        <link rel="stylesheet" href="/css/highlight.css">
        <link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'>

        <!-- Font Awesome -->
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        <!-- Fetch JQuery from CDN but have a local fallback -->
        <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script>
            if (typeof jQuery == 'undefined') {
                document.write(unescape("%3Cscript src='/jquery.js'%3E%3C/script%3E"));
            }
        </script>
    </head>
    <body>
        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme = localStorage.getItem('theme');
            if (theme == null) { theme = 'light'; }
            $('body').removeClass().addClass(theme);
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = localStorage.getItem('sidebar');
            if (sidebar === "hidden") { $("html").addClass("sidebar-hidden") }
            else if (sidebar === "visible") { $("html").addClass("sidebar-visible") }
        </script>

        <div id="sidebar" class="sidebar">
            <ul class="chapter">

              
              <li>
                <a href="#about-this-book.html"> About This Book</a>
              </li>
              
              <li>
                <a href="#language.html"> Language Structure</a>
              </li>
              
              <li>
                <a href="#builtin.html"> Built-in Classes</a>
              </li>
              
              <li>
                <a href="#stdlib.html"> Standard Library</a>
              </li>
              
              <li>
                <a href="#advanced-topics.html"> Advanced Topics</a>
              </li>
              

            </ul>
        </div>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar" class="menu-bar">
                    <div class="left-buttons">
                        <i id="sidebar-toggle" class="fa fa-bars"></i>
                        <i id="theme-toggle" class="fa fa-paint-brush"></i>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <i id="print-button" class="fa fa-print" title="Print this book"></i>
                    </div>
                </div>

                 <h1 id="hash">Hash</h1>

<p>A Hash is a dictionary-like collection of unique keys and their values.
Also called associative arrays, they are similar to Arrays, but where an
Array uses integers as its index, a Hash allows you to use any object
type.</p>

<p>Hashes enumerate their values in the order that the corresponding keys
were inserted.</p>

<p>A Hash can be easily created by using its implicit form:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">grades</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"Jane Doe"</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">"Jim Doe"</span> <span class="o">=&gt;</span> <span class="mi">6</span> <span class="p">}</span>
</code></pre></div></div>

<p>Hashes allow an alternate syntax for keys that are symbols. Instead of</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">options</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">:font_size</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span> <span class="ss">:font_family</span> <span class="o">=&gt;</span> <span class="s2">"Arial"</span> <span class="p">}</span>
</code></pre></div></div>

<p>You could write it as:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">options</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">font_size: </span><span class="mi">10</span><span class="p">,</span> <span class="ss">font_family: </span><span class="s2">"Arial"</span> <span class="p">}</span>
</code></pre></div></div>

<p>Each named key is a symbol you can access in hash:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">options</span><span class="p">[</span><span class="ss">:font_size</span><span class="p">]</span>  <span class="c1"># =&gt; 10</span>
</code></pre></div></div>

<p>A Hash can also be created through its ::new method:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">grades</span> <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span>
<span class="n">grades</span><span class="p">[</span><span class="s2">"Dorothy Doe"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>
</code></pre></div></div>

<p>Hashes have a <em>default value</em> that is returned when accessing keys that
do not exist in the hash. If no default is set <code class="highlighter-rouge">nil</code> is used. You can
set the default value by sending it as an argument to Hash.new:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">grades</span> <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></div>

<p>Or by using the <code class="highlighter-rouge">#default=</code> method:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">grades</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"Timmy Doe"</span> <span class="o">=&gt;</span> <span class="mi">8</span><span class="p">}</span>
<span class="n">grades</span><span class="p">.</span><span class="nf">default</span> <span class="o">=</span> <span class="mi">0</span>
</code></pre></div></div>

<p>Accessing a value in a Hash requires using its key:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">puts</span> <span class="n">grades</span><span class="p">[</span><span class="s2">"Jane Doe"</span><span class="p">]</span> <span class="c1"># =&gt; 0</span>
</code></pre></div></div>

<h3 id="common-uses">Common Uses</h3>

<p>Hashes are an easy way to represent data structures, such as</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">books</span>         <span class="o">=</span> <span class="p">{}</span>
<span class="n">books</span><span class="p">[</span><span class="ss">:matz</span><span class="p">]</span>  <span class="o">=</span> <span class="s2">"The Ruby Programming Language"</span>
<span class="n">books</span><span class="p">[</span><span class="ss">:black</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"The Well-Grounded Rubyist"</span>
</code></pre></div></div>

<p>Hashes are also commonly used as a way to have named parameters in
functions. Note that no brackets are used below. If a hash is the last
argument on a method call, no braces are needed, thus creating a really
clean interface:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Person</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">name: </span><span class="s2">"John Doe"</span><span class="p">,</span> <span class="ss">age: </span><span class="mi">27</span><span class="p">)</span>

<span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
  <span class="vi">@name</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="ss">:name</span><span class="p">]</span>
  <span class="vi">@age</span>  <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="ss">:age</span><span class="p">]</span>
<span class="k">end</span>
</code></pre></div></div>

<h3 id="hash-keys">Hash Keys</h3>

<p>Two objects refer to the same hash key when their <code class="highlighter-rouge">hash</code> value is
identical and the two objects are <code class="highlighter-rouge">eql?</code> to each other.</p>

<p>A user-defined class may be used as a hash key if the <code class="highlighter-rouge">hash</code> and <code class="highlighter-rouge">eql?</code>
methods are overridden to provide meaningful behavior. By default,
separate instances refer to separate hash keys.</p>

<p>A typical implementation of <code class="highlighter-rouge">hash</code> is based on the objectâ€™s data while
<code class="highlighter-rouge">eql?</code> is usually aliased to the overridden <code class="highlighter-rouge">==</code> method:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Book</span>
  <span class="nb">attr_reader</span> <span class="ss">:author</span><span class="p">,</span> <span class="ss">:title</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">author</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
    <span class="vi">@author</span> <span class="o">=</span> <span class="n">author</span>
    <span class="vi">@title</span> <span class="o">=</span> <span class="n">title</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">==</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
    <span class="nb">self</span><span class="p">.</span><span class="nf">class</span> <span class="o">===</span> <span class="n">other</span> <span class="n">and</span>
      <span class="n">other</span><span class="p">.</span><span class="nf">author</span> <span class="o">==</span> <span class="vi">@author</span> <span class="n">and</span>
      <span class="n">other</span><span class="p">.</span><span class="nf">title</span> <span class="o">==</span> <span class="vi">@title</span>
  <span class="k">end</span>

  <span class="k">alias</span> <span class="nb">eql?</span> <span class="o">==</span>

  <span class="k">def</span> <span class="nf">hash</span>
    <span class="vi">@author</span><span class="p">.</span><span class="nf">hash</span> <span class="o">^</span> <span class="vi">@title</span><span class="p">.</span><span class="nf">hash</span> <span class="c1"># XOR</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">book1</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'matz'</span><span class="p">,</span> <span class="s1">'Ruby in a Nutshell'</span>
<span class="n">book2</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'matz'</span><span class="p">,</span> <span class="s1">'Ruby in a Nutshell'</span>

<span class="n">reviews</span> <span class="o">=</span> <span class="p">{}</span>

<span class="n">reviews</span><span class="p">[</span><span class="n">book1</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Great reference!'</span>
<span class="n">reviews</span><span class="p">[</span><span class="n">book2</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Nice and compact!'</span>

<span class="n">reviews</span><span class="p">.</span><span class="nf">length</span> <span class="c1">#=&gt; 1</span>
</code></pre></div></div>

<p>See also <code class="highlighter-rouge">Object#hash</code> and <code class="highlighter-rouge">Object#eql?</code></p>

<p><a href="http://ruby-doc.org/core-2.5.0/Hash.html">Hash Reference</a></p>



                <!-- Mobile navigation buttons -->


                <!--
                    <a href="cli/cli-tool.html" class="mobile-nav-chapters next">
                        <i class="fa fa-angle-right"></i>
                    </a>
                 -->

            </div>



               <!--
                <a href="cli/cli-tool.html" class="nav-chapters next" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-right"></i>
                </a>
                 -->

        </div>


        <script src="js/book.js"></script>
    </body>
</html>
